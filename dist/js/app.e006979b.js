(function(t){function e(e){for(var a,i,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)i=r[d],o[i]&&p.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),o=n.n(a);o.a},"097f":function(t,e,n){"use strict";var a=n("e78d"),o=n.n(a);o.a},"0b82":function(t,e,n){},"3d84":function(t,e,n){},4227:function(t,e,n){"use strict";var a=n("6d72"),o=n.n(a);o.a},4391:function(t,e,n){"use strict";var a=n("3d84"),o=n.n(a);o.a},4719:function(t,e,n){"use strict";var a=n("0b82"),o=n.n(a);o.a},"4bb5":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),n("van-tabbar",{on:{change:function(e){return t.changeNav()}},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tabbar-item",{attrs:{icon:"wap-home",to:{name:"home"}}},[t._v("首页")]),n("van-tabbar-item",{attrs:{icon:"apps-o",to:{name:"sort"}}},[t._v("分类")]),n("van-tabbar-item",{attrs:{icon:"cart-o",info:t.cartNum,to:{name:"shopcart"}}},[t._v("购物车")]),n("van-tabbar-item",{attrs:{icon:"contact",to:{name:"myeg"}}},[t._v("我的")])],1)],1)},s=[],i=n("bc3a"),r=n.n(i),c={created:function(){var t=this;this.$eventBus.$on("addToCart",function(){t.cartNum++}),sessionStorage.getItem("token")?r.a.get("http://api.cat-shop.penkuoer.com/api/v1/shop_carts",{headers:{authorization:"Bearer "+sessionStorage.getItem("token")}}).then(function(e){console.log(e),e.data.forEach(function(e){t.cartNum+=e.quantity})}).catch(function(t){console.log(t)}):this.cartNum=0,this.active=1*sessionStorage.getItem("active"),this.$eventBus.$on("mainNavActive",function(e){switch("myeg"===e&&(t.active=4),e){case"myeg":t.active=4;break;case"list":t.active=1;break;case"home":t.active=0;break;default:t.active=0,t.$router.push({name:"home"});break}})},data:function(){return{cartNum:0,active:0}},methods:{changeNav:function(){sessionStorage.setItem("active",this.active)}}},l=c,u=(n("034f"),n("2877")),d=Object(u["a"])(l,o,s,!1,null,null,null),p=d.exports,f=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("van-nav-bar",{attrs:{fixed:""},on:{"click-left":function(e){return t.onClickLeft()},"click-right":function(e){return t.onClickRight()}}},[n("span",{attrs:{slot:"left"},slot:"left"},[t._v("城市"),n("van-icon",{attrs:{name:"arrow-down",color:"#fff"}})],1),n("van-search",{attrs:{slot:"title",placeholder:"请输入搜索关键词",shape:"round",background:"transparent"},on:{click:function(e){return t.onSearch()}},slot:"title"})],1),n("van-pull-refresh",{on:{refresh:function(e){return t.onRefresh()}},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("div",{staticClass:"imgSli"},[n("van-swipe",{attrs:{autoplay:3e3}},t._l(t.images,function(e,a){return n("van-swipe-item",{key:a,on:{click:function(e){return t.tiaozhuanhandle()}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"image"}],staticClass:"changechicun"})])}),1)],1),n("div",{staticClass:"first-screen",on:{click:function(e){return t.tiaozhuanhandle()}}},[n("img",{staticClass:"firstbanner",attrs:{src:t.firstBanner}})]),n("div",{staticClass:"homeSort  van-hairline--bottom",on:{click:function(e){return t.tiaozhuanhandle()}}},[n("van-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",justify:"space-between",align:"center"}},t._l(t.Sort,function(e,a){return n("van-col",{key:a,attrs:{span:"6"}},[n("div",[n("img",{staticClass:"sort",attrs:{src:e.src,alt:e.txt}})]),n("div",[t._v(t._s(e.txt))])])}),1)],1),n("div",{staticClass:"noticeSlide"},[n("van-swipe",{attrs:{autoplay:3e3,vertical:"",height:40,"show-indicators":!1}},t._l(t.NoticeBar,function(t,e){return n("van-swipe-item",{key:e},[n("van-notice-bar",{attrs:{text:t,"left-icon":"volume-o",scrollable:!1,mode:"link"}})],1)}),1)],1)])],1)},h=[],v=n("283e"),g=n.n(v),b=n("b970");a["a"].use(g.a,b["l"],b["m"],b["f"]);var _={swipe:["https://f11.baidu.com/it/u=1958490809,1691334580&fm=72","https://f10.baidu.com/it/u=2648954178,707991817&fm=72","http://img3.imgtn.bdimg.com/it/u=2806101576,828957987&fm=26&gp=0.jpg","http://img0.imgtn.bdimg.com/it/u=4032547426,2267968566&fm=200&gp=0.jpg","https://f11.baidu.com/it/u=1808728771,3488766432&fm=72","https://f12.baidu.com/it/u=3297161960,1254830237&fm=72","http://img1.imgtn.bdimg.com/it/u=1345116308,1589445689&fm=26&gp=0.jpg"],firstBanner:{src:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=331395328,2707688664&fm=26&gp=0.jpg"},bannerSort:[{txt:"买二付一",src:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=4001189223,2524281611&fm=26&gp=0.jpg"},{txt:"真材实料",src:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=262786171,152747083&fm=26&gp=0.jpg"},{txt:"会员福利",src:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=4029083936,1399672192&fm=26&gp=0.jpg"},{txt:"银行活动",src:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1396706202,1074656045&fm=26&gp=0.jpg"},{txt:"实木家具",src:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=440255889,66482693&fm=26&gp=0.jpg"},{txt:"精品无疑",src:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1374312818,1296150264&fm=26&gp=0.jpg"},{txt:"红木家具",src:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1632708423,1178888927&fm=26&gp=0.jpg"},{txt:"中式家具",src:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3910499157,2533047420&fm=26&gp=0.jpg"}],noticeBar:["营业资质公示，详情请点击查询","配送公告","家具活动，上不封顶，买够4万元送4千！","营业资质公示，详情请点击查询","配送公告","家具活动，上不封顶，买够4万元送4千！"]},k={name:"home",data:function(){return{images:_.swipe,firstBanner:_.firstBanner.src,Sort:_.bannerSort,NoticeBar:_.noticeBar,isLoading:!1}},methods:{tiaozhuanhandle:function(){this.$router.push({name:"sort"})},onSearch:function(){this.$eventBus.$emit("mainNavActive","sort"),this.$router.push({name:"sort"})},onClickLeft:function(){Object(b["s"])("城市")},onClickRight:function(){Object(b["s"])("搜索")},onRefresh:function(){var t=this;setTimeout(function(){t.$toast({duration:1e3,message:"刷新成功"}),t.isLoading=!1},500)}}},x=k,C=(n("4719"),Object(u["a"])(x,m,h,!1,null,"72ef17fa",null)),y=C.exports,$=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("This is an about page")])])}],j={},S=Object(u["a"])(j,$,w,!1,null,null,null),I=S.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"listbox"},[n("van-nav-bar",{attrs:{title:t.$route.params.title,"left-text":"返回","left-arrow":"",fixed:""},on:{"click-left":t.onClickLeft}}),n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.products,function(e,a){return n("van-card",{key:a,attrs:{num:e.quantity,price:e.price,desc:e.descriptions,title:e.name,thumb:"https://api.cat-shop.penkuoer.com"+e.coverImg,"thumb-link":"/list/"+e._id}},[n("div",{attrs:{slot:"footer"},slot:"footer"},[n("van-button",{staticClass:"addCartBtn",attrs:{size:"mini"},on:{click:function(n){return t.addToCart(e._id)}}},[n("van-icon",{staticClass:"cart",attrs:{name:"cart"}})],1)],1)])}),1)],1)},H=[],L="https://api.cat-shop.penkuoer.com",z=r.a.create({baseURL:L,timeout:5e3});var B,Y=z,E=function(t){return Y.get("/api/v1/products",{params:t})},N=function(t){return Y.get("/api/v1/products/".concat(t))},P={data:function(){return{page:1,totalCount:0,loading:!1,finished:!1,products:[]}},methods:{onLoad:function(){var t=this;setTimeout(function(){t.page+=1,t.loadData(),t.loading=!1,t.products.length>=t.totalCount&&(t.finished=!0)},1e3)},onClickLeft:function(){this.$router.go(-1)},addToCart:function(t){var e=this;sessionStorage.getItem("token")?(this.$eventBus.$emit("addToCart"),r.a.post("http://api.cat-shop.penkuoer.com/api/v1/shop_carts",{product:t},{headers:{authorization:"Bearer "+sessionStorage.getItem("token")}}).then(function(t){console.log(t),e.$router.push({name:"shopcart"})}).catch(function(t){console.log(t)})):this.$dialog.alert({message:"请先登录"}).then(function(){e.$router.push({name:"login"})})},loadData:function(){var t=this;E({page:this.page}).then(function(e){t.products=t.products.concat(e.data.products),t.totalCount=e.data.totalCount}).catch(function(t){console.log(t)})}},created:function(){this.loadData()}},F=P,T=(n("4227"),Object(u["a"])(F,O,H,!1,null,null,null)),G=T.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","left-arrow":"",fixed:""},on:{"click-left":t.onClickLeft}}),n("div",{staticClass:"goods"},[n("img",{staticClass:"detailImg",attrs:{src:"https://api.cat-shop.penkuoer.com"+t.goods.coverImg}}),n("van-cell-group",[n("van-cell",[n("div",{staticClass:"goods-title"},[t._v(t._s(t.goods.name))]),n("div",{staticClass:"goods-price"},[t._v(t._s(t.formatPrice(t.goods.price)))])]),n("van-cell",{staticClass:"goods-express"},[n("van-col",{attrs:{span:"10"}},[t._v("运费："+t._s("免运费"))]),n("van-col",{attrs:{span:"14"}},[t._v("剩余："+t._s(t.goods.quantity))])],1)],1),n("van-cell-group",{staticClass:"goods-cell-group"},[n("van-cell",{attrs:{value:"进入店铺",icon:"shop-o","is-link":""},on:{click:t.sorry}},[n("template",{slot:"title"},[n("span",{staticClass:"van-cell-text"},[t._v("有赞的店")]),n("van-tag",{staticClass:"goods-tag",attrs:{type:"danger"}},[t._v("官方")])],1)],2),n("van-cell",{attrs:{title:"线下门店",icon:"location-o","is-link":""},on:{click:t.sorry}})],1),n("van-cell-group",{staticClass:"goods-cell-group"},[n("van-cell",{attrs:{title:"查看商品详情","is-link":""},on:{click:t.sorry}})],1),n("van-goods-action",[n("van-goods-action-mini-btn",{attrs:{icon:"chat-o"},on:{click:t.sorry}},[t._v("\n        客服\n      ")]),n("van-goods-action-mini-btn",{attrs:{icon:"cart-o"},on:{click:t.onClickCart}},[t._v("\n        购物车\n      ")]),n("van-goods-action-big-btn",{on:{click:t.sorry}},[t._v("\n        加入购物车\n      ")]),n("van-goods-action-big-btn",{attrs:{primary:""},on:{click:t.sorry}},[t._v("\n        立即购买\n      ")])],1)],1),n("van-goods-action",[n("van-goods-action-mini-btn",{attrs:{icon:"chat-o",text:"客服"}}),n("van-goods-action-mini-btn",{attrs:{info:"5",icon:"cart-o",text:"购物车"}}),n("van-goods-action-mini-btn",{attrs:{icon:"shop-o",text:"店铺"}}),n("van-goods-action-big-btn",{attrs:{text:"加入购物车"},on:{click:t.addToCart}}),n("van-goods-action-big-btn",{attrs:{primary:"",text:"立即购买"}})],1)],1)},q=[],R=n("bd86"),A=(n("7f7f"),{components:(B={},Object(R["a"])(B,b["r"].name,b["r"]),Object(R["a"])(B,b["f"].name,b["f"]),Object(R["a"])(B,b["k"].name,b["k"]),Object(R["a"])(B,b["b"].name,b["b"]),Object(R["a"])(B,b["c"].name,b["c"]),Object(R["a"])(B,b["p"].name,b["p"]),Object(R["a"])(B,b["q"].name,b["q"]),Object(R["a"])(B,b["h"].name,b["h"]),Object(R["a"])(B,b["i"].name,b["i"]),Object(R["a"])(B,b["j"].name,b["j"]),B),data:function(){return{title:"详情",goods:{title:"美国伽力果（约680g/3个）",price:2680,express:"免运费",remain:19,coverImg:""}}},methods:{onClickLeft:function(){this.$router.go(-1)},formatPrice:function(){return"¥"+this.goods.price.toFixed(2)},onClickCart:function(){this.$router.push("cart")},sorry:function(){Object(b["s"])("暂无后续逻辑~")},addToCart:function(){var t=this;sessionStorage.getItem("token")?(this.$eventBus.$emit("addToCart"),r.a.post("https://api.cat-shop.penkuoer.com/api/v1/shop_carts",{product:this.$route.params.id},{headers:{authorization:"Bearer "+sessionStorage.getItem("token")}}).then(function(e){console.log(e),t.$router.push({name:"shopcart"})}).catch(function(t){console.log(t)})):alert("请登录你的账户，然后再次加入购物车！")}},created:function(){var t=this;N(this.$route.params.id).then(function(e){t.goods=e.data}).catch(function(t){console.log(t)})}}),K=A,M=(n("6233"),Object(u["a"])(K,Z,q,!1,null,null,null)),Q=M.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("van-cell-group",[n("van-field",{attrs:{clearable:"","right-icon":"question-o",placeholder:"请输入您的用户名",size:"large"},on:{"click-right-icon":function(e){return t.$toast("请输入您的用户名")}},model:{value:t.userinfo.username,callback:function(e){t.$set(t.userinfo,"username",e)},expression:"userinfo.username"}})],1),n("van-cell-group",[n("van-field",{attrs:{type:"password",placeholder:"请输入您的密码","right-icon":"closed-eye",size:"large"},model:{value:t.userinfo.psw,callback:function(e){t.$set(t.userinfo,"psw",e)},expression:"userinfo.psw"}})],1),n("van-cell-group",[n("van-field",{attrs:{type:"text",placeholder:"请输入验证码",size:"large"},model:{value:t.userinfo.YZcode,callback:function(e){t.$set(t.userinfo,"YZcode",e)},expression:"userinfo.YZcode"}})],1),n("span",{staticClass:"btn-captcha"},[t._v(t._s(t.rancode))]),n("p",{staticClass:"forget",on:{click:t.forgetPsw}},[t._v("忘记密码？")]),n("div",{staticClass:"btn"},[n("input",{staticClass:"login",attrs:{type:"botton",value:"登录"},on:{click:t.loginHandle}}),n("input",{staticClass:"reg",attrs:{type:"botton",value:"立即注册"},on:{click:t.regHandle}})]),t._m(0)],1)},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"logo"},[a("img",{attrs:{src:n("57b6")}})])}],J=n("e814"),U=n.n(J);function X(t,e){sessionStorage.setItem(t,e)}function V(t){return!!sessionStorage.getItem(t)}n("f499"),n("20d6");function tt(t,e){return Y.post("/api/v1/auth/login",{userName:t,password:e})}function et(t){return Y.post("/api/v1/auth/reg",t)}var nt,at={data:function(){return{userinfo:{username:"",psw:"",YZcode:""},rancode:"4MjV"}},created:function(){var t=this;this.userinfo.username=sessionStorage.getItem("username"),this.$eventBus.$on("creatrandom",function(){if(t.userinfo.YZcode!=t.rancode){for(var e="",n=0;n<4;n++)e+=U()(Math.floor(10*Math.random()));return t.rancode=e}})},methods:{loginHandle:function(){var t=this;if(this.userinfo.YZcode!=this.rancode)return alert("请输入正确的验证码！！"),this.userinfo.YZcode="",void this.$eventBus.$emit("creatrandom");tt(this.userinfo.username,this.userinfo.psw).then(function(e){"success"==e.data.code&&(sessionStorage.setItem("active",3),sessionStorage.setItem("token",e.data.token),X("username",t.userinfo.username),t.$router.push({name:"myeg"}),t.$router.go(0))}).catch(function(t){console.log(t)})},regHandle:function(){this.$router.push({name:"reg"})},forgetPsw:function(){this.$router.push({name:"findpsw"})}}},ot=at,st=(n("76e8"),Object(u["a"])(ot,W,D,!1,null,"cfa45076",null)),it=st.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("van-cell-group",[n("van-field",{attrs:{clearable:"",placeholder:"请输入您的手机号",size:"large"},model:{value:t.userinfo.phone,callback:function(e){t.$set(t.userinfo,"phone",e)},expression:"userinfo.phone"}})],1),n("van-cell-group",[n("van-field",{attrs:{type:"text",placeholder:"请输入您的验证码","right-icon":"question-o",size:"large"},on:{"click-right-icon":function(e){return t.$toast("请输入您的验证码")}},model:{value:t.userinfo.YZcode,callback:function(e){t.$set(t.userinfo,"YZcode",e)},expression:"userinfo.YZcode"}})],1),n("van-cell-group",[n("van-field",{attrs:{type:"password",placeholder:"请输入您的密码","right-icon":"question-o",size:"large"},on:{"click-right-icon":function(e){return t.$toast("请输入您的密码")}},model:{value:t.userinfo.psw,callback:function(e){t.$set(t.userinfo,"psw",e)},expression:"userinfo.psw"}})],1),n("van-cell-group",[n("van-field",{attrs:{type:"password",placeholder:"请再次输入您的密码","right-icon":"question-o",size:"large"},on:{"click-right-icon":function(e){return t.$toast("请在再次输入您的密码")}},model:{value:t.userinfo.psw_again,callback:function(e){t.$set(t.userinfo,"psw_again",e)},expression:"userinfo.psw_again"}})],1),n("span",{staticClass:"btn-captcha"},[t._v("获取验证码")]),t._m(0),n("div",{staticClass:"Reg"},[n("span",{staticClass:"regbtn",on:{click:t.registHandle}},[t._v("注册")])])],1)},ct=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"read",attrs:{for:"label"}},[n("input",{attrs:{type:"checkbox",id:"label",checked:""}}),t._v("我已阅读\n    "),n("a",{staticClass:"green"},[t._v("《易果服务协议》")]),n("a",{staticClass:"green"},[t._v("《隐私条款》")]),t._v("并同意\n  ")])}],lt={data:function(){return{userinfo:{phone:"",YZcode:"",psw:"",psw_again:""}}},methods:{registHandle:function(){var t=this;et({userName:this.userinfo.phone,password:this.userinfo.psw}).then(function(e){console.log(e),"error"!=e.data.code?(sessionStorage.setItem("username",t.userinfo.phone),t.$router.push({name:"login"})):t.$dialog.alert({message:"用户名已存在，请重试！"})}).catch(function(t){console.log(t)})}},created:function(){}},ut=lt,dt=(n("097f"),Object(u["a"])(ut,rt,ct,!1,null,"7227be7e",null)),pt=dt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shopcart"},[n("van-nav-bar",{attrs:{title:"购物车",fixed:""}}),n("div",[n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t.islogin?n("van-checkbox-group",{staticClass:"card-goods",model:{value:t.checkedGoods,callback:function(e){t.checkedGoods=e},expression:"checkedGoods"}},t._l(t.goods,function(e){return n("van-checkbox",{key:e._id,staticClass:"card-goods__item",attrs:{name:e._id}},[e.product?n("van-card",{attrs:{thumb:"http://api.cat-shop.penkuoer.com"+e.product.coverImg,desc:e.product.descriptions,price:e.product.price,"thumb-link":"/list/"+e.product._id,centered:"","lazy-load":""}},[n("div",{staticClass:"del",attrs:{slot:"tags"},slot:"tags"},[n("van-icon",{attrs:{name:"delete",color:"#f44",size:"20px"},on:{click:function(n){return n.stopPropagation(),t.Delete(e._id)}}})],1),n("div",{staticClass:"van-ellipsis",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.product.name))]),n("div",{attrs:{slot:"num"},on:{click:function(t){t.stopPropagation()}},slot:"num"},[n("van-stepper",{on:{plus:function(n){return t.SetPlus(e._id)},minus:function(n){return t.SetMinus(e._id)}},model:{value:e.quantity,callback:function(n){t.$set(e,"quantity",n)},expression:"item.quantity"}})],1)]):t._e()],1)}),1):n("div",{staticClass:"nologin"},[n("van-row",{staticStyle:{"flex-wrap":"wrap","text-align":"center"},attrs:{type:"flex",justify:"center"}},[n("van-col",{attrs:{span:"16"}},[n("img",{staticStyle:{width:"100%"},attrs:{src:"https://img07.yiguoimg.com/d/web/180313/013112/195558/img_nogoods@3x.png",alt:""}})]),n("van-col",{attrs:{span:"24"}},[n("span",{staticClass:"tip"},[t._v("登录后可同步购物车中商品")])]),n("van-col",{staticClass:"nomargin",attrs:{span:"10"}},[n("router-link",{staticClass:"linktologin",attrs:{to:{name:"login"}}},[t._v("登录")])],1),n("van-col",{attrs:{span:"20"}},[n("router-link",{staticClass:"linktolist",attrs:{to:{name:"list"}}},[t._v("去逛逛")])],1)],1)],1)],1),t.islogin?n("van-submit-bar",{attrs:{price:t.totalPrice,disabled:!t.checkedGoods.length,"button-text":t.submitBarText},on:{submit:t.onSubmit}},[n("van-checkbox",{on:{click:function(e){return t.checkedallHandle()}},model:{value:t.checkedAll,callback:function(e){t.checkedAll=e},expression:"checkedAll"}},[t._v("全选")])],1):t._e()],1)],1)},mt=[],ht=n("5118");a["a"].use(g.a,b["n"],b["l"],b["m"],b["f"]);var vt={components:(nt={},Object(R["a"])(nt,b["a"].name,b["a"]),Object(R["a"])(nt,b["d"].name,b["d"]),Object(R["a"])(nt,b["o"].name,b["o"]),Object(R["a"])(nt,b["e"].name,b["e"]),nt),data:function(){return{islogin:!1,goods:[],checkedAll:!1,checkedGoods:[],sumNumber:1,isLoading:!1,ObjUrl:void 0}},created:function(){var t=this;sessionStorage.getItem("token")?(this.islogin=!0,r.a.get("http://api.cat-shop.penkuoer.com/api/v1/shop_carts",{headers:{authorization:"Bearer "+sessionStorage.getItem("token")}}).then(function(e){console.log(e.data),t.goods=e.data}).catch(function(t){Object(b["s"])("".concat(t))})):this.islogin=!1},computed:{submitBarText:function(){var t=this,e=this.goods.reduce(function(e,n){return e+(-1!==t.checkedGoods.indexOf(n._id)?n.quantity:0)},0);return"结算"+"(".concat(e,")")},totalPrice:function(){var t=this,e=this.goods.reduce(function(e,n){return e+(-1!==t.checkedGoods.indexOf(n._id)?n.product.price*n.quantity:0)},0);return e?100*e:0}},methods:{formatPrice:function(t){},onSubmit:function(){Object(b["s"])("点击结算")},onRefresh:function(){var t=this;sessionStorage.getItem("username")?(this.islogin=!0,Object(ht["setTimeout"])(function(){r.a.get("http://api.cat-shop.penkuoer.com/api/v1/shop_carts",{headers:{authorization:"Bearer "+sessionStorage.getItem("token")}}).then(function(e){t.goods=e.data,t.$toast({duration:1e3,message:"刷新成功"}),t.isLoading=!1}).catch(function(e){t.$toast.fail("刷新失败:".concat(e)),t.isLoading=!1})},500)):(this.islogin=!1,Object(ht["setTimeout"])(function(){t.isLoading=!1},500))},SetPlus:function(t){},SetMinus:function(t,e){},Delete:function(t){var e=this;b["g"].confirm({title:"确认删除么？"}).then(function(){r.a.delete("http://api.cat-shop.penkuoer.com/api/v1/shop_carts/"+t,{headers:{authorization:"Bearer "+sessionStorage.getItem("token")}}).then(function(t){r.a.get("http://api.cat-shop.penkuoer.com/api/v1/shop_carts",{headers:{authorization:"Bearer "+sessionStorage.getItem("token")}}).then(function(t){e.goods=t.data,e.$toast.loading({duration:200,loadingType:"spinner"}),e.isLoading=!1})}).catch(function(t){e.$toast.fail("删除失败:".concat(t))})}).catch(function(){})},checkedOne:function(){},checkedallHandle:function(){}}},gt=vt,bt=(n("f5d6"),Object(u["a"])(gt,ft,mt,!1,null,null,null)),_t=bt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("van-nav-bar",{attrs:{title:"个人中心","left-arrow":""},on:{"click-left":t.goback}}),a("van-cell-group",[a("van-cell",{attrs:{title:"用户名",value:t.userInfo.username}})],1),a("van-uploader",{staticClass:"headImg",attrs:{"after-read":t.onRead,accept:"image/gif, image/jpeg",multiple:"","max-size":6e5},on:{oversize:t.overHandle}},[a("span",{staticClass:"selfImg"},[t._v("头像")]),a("van-icon",{attrs:{name:"photograph"}}),a("img",{ref:"Img",staticClass:"Img",attrs:{src:n("c308")}})],1),a("van-cell-group",[a("van-cell",{attrs:{title:"手机号",value:t.userInfo.phone}})],1),a("van-cell-group",[a("van-cell",{attrs:{title:"密码",value:t.userInfo.psw}})],1),a("div",{staticClass:"exit"},[a("van-button",{attrs:{type:"primary",size:"large"},on:{click:t.exitHandle}},[t._v("退出登录")])],1)],1)},xt=[],Ct={data:function(){return{userInfo:{username:"",Img:"",phone:"",psw:""}}},created:function(){this.userInfo.username=sessionStorage.getItem("username")},methods:{goback:function(){this.$router.go(-1)},exitHandle:function(){sessionStorage.removeItem("token"),this.$router.push({name:"myeg"}),this.$router.go(0)},onRead:function(t){this.$refs.Img.src=t.content,this.userInfo.Img=t.content},overHandle:function(){alert("头像数据过大，请重新上传！！！")}}},yt=Ct,$t=(n("4391"),Object(u["a"])(yt,kt,xt,!1,null,"356d730e",null)),wt=$t.exports,jt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},St=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("h1",[t._v("订单")])])}],It={},Ot=It,Ht=Object(u["a"])(Ot,jt,St,!1,null,"30332127",null),Lt=Ht.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sortbox"},[n("van-search",{staticClass:"search",attrs:{placeholder:"请输入搜索关键词","show-action":"",shape:"round"},on:{search:t.onSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[n("div",{attrs:{slot:"action"},on:{click:t.onSearch},slot:"action"},[t._v("搜索")])]),n("van-tree-select",{attrs:{items:t.items,"main-active-index":t.mainActiveIndex,"active-id":t.activeId},on:{navclick:t.onNavClick,itemclick:t.onItemClick}})],1)},Bt=[],Yt=[{text:"精选家具",children:[{text:"全部",id:1},{text:"实木家具",id:2},{text:"红木家具",id:3},{text:"中式家具",id:4},{text:"欧式家具",id:5}]},{text:"室内家具",children:[{text:"全部",id:1},{text:"室外家具",id:2},{text:"玄关家具",id:3},{text:"厨房家具",id:4},{text:"卧室家具",id:5}]},{text:"现代家具",children:[{text:"全部",id:1},{text:"古典家具",id:2},{text:"现代古典家具",id:3},{text:"电视柜",id:4},{text:"书柜",id:5}]},{text:"阳台家具",children:[{text:"全部",id:1},{text:"阳台柜",id:2},{text:"榻榻米",id:3},{text:"地台柜",id:4},{text:"洗衣柜",id:5},{text:"鱼缸",id:6},{text:"浴缸",id:7},{text:"床头柜",id:8},{text:"书桌椅",id:9},{text:"儿童衣柜",id:10},{text:"大芯板",id:11},{text:"博古柜",id:12}]}],Et={data:function(){return{value:"",items:Yt,mainActiveIndex:0,activeId:1}},methods:{onNavClick:function(t){this.mainActiveIndex=t},onItemClick:function(t){this.activeId=t.id,this.$router.push({name:"list",params:{title:t.text}})},onSearch:function(){}}},Nt=Et,Pt=(n("8260"),Object(u["a"])(Nt,zt,Bt,!1,null,"6ad23704",null)),Ft=Pt.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("我是推荐")])},Gt=[],Zt={},qt=Zt,Rt=Object(u["a"])(qt,Tt,Gt,!1,null,"cbfb9fe6",null),At=Rt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("ul",{staticClass:"regInfo"},[n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入您的手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),n("span",{staticClass:"btn-captcha"},[t._v("获取验证码")])]),n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.YZcode,expression:"YZcode"}],attrs:{type:"text",placeholder:"请设定您的验证码"},domProps:{value:t.YZcode},on:{input:function(e){e.target.composing||(t.YZcode=e.target.value)}}})]),n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.psw,expression:"psw"}],attrs:{type:"password",placeholder:"请设定您的密码"},domProps:{value:t.psw},on:{input:function(e){e.target.composing||(t.psw=e.target.value)}}})]),n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.psw_again,expression:"psw_again"}],attrs:{type:"password",placeholder:"请再次输入您的密码"},domProps:{value:t.psw_again},on:{input:function(e){e.target.composing||(t.psw_again=e.target.value)}}})])]),n("div",{staticClass:"btn"},[n("input",{staticClass:"back",attrs:{type:"botton",value:"返回"},on:{click:t.backHandle}}),n("input",{staticClass:"sure",attrs:{type:"botton",value:"确认"},on:{click:t.sureHandle}})])])},Mt=[],Qt={data:function(){return{phone:"",YZcode:"",psw:"",psw_again:""}},methods:{backHandle:function(){this.$router.push({name:"login"})},sureHandle:function(){}}},Wt=Qt,Dt=(n("c228"),Object(u["a"])(Wt,Kt,Mt,!1,null,"15ba92dc",null)),Jt=Dt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{staticClass:"bg"},[a("van-icon",{staticClass:"set",attrs:{name:"setting-o",color:"#fff"}}),a("div",{staticClass:"info"},[a("p",{staticClass:"userImg"},[a("img",{attrs:{alt:" 用户头像",src:n("c308")},on:{click:t.uscenterHandle}})]),t.isLogin?t._e():a("p",{staticClass:"log_reg"},[a("span",{staticClass:"login",on:{click:t.loginHandle}},[t._v("登录")]),t._v(" /\n        "),a("span",{staticClass:"reg",on:{click:t.regHandle}},[t._v("注册")])]),t.isLogin?a("p",{staticClass:"log_reg"},[a("span",[t._v("欢迎回来:"+t._s(t.user))])]):t._e()])],1),t._m(0),a("van-tabbar",{staticClass:"part1",attrs:{fixed:!1}},[a("van-tabbar-item",{attrs:{icon:"debit-pay"}},[t._v("待支付")]),a("van-tabbar-item",{attrs:{icon:"logistics"}},[t._v("待收货")]),a("van-tabbar-item",{attrs:{icon:"comment-o"}},[t._v("评价送悠币")]),a("van-tabbar-item",{attrs:{icon:"exchange"}},[t._v("在线退换货")]),a("van-tabbar-item",{attrs:{icon:"orders-o"}},[t._v("全部订单")])],1),a("van-tabbar",{attrs:{fixed:!1}},[a("van-tabbar-item",{attrs:{icon:"coupon-o"}},[t._v("优惠券")]),a("van-tabbar-item",{attrs:{icon:"idcard"}},[t._v("充值卡")]),a("van-tabbar-item",{attrs:{icon:"send-gift-o"}},[t._v("礼品兑换券")]),a("van-tabbar-item",{attrs:{icon:"location-o"}},[t._v("收货地址")])],1),a("van-tabbar",{attrs:{fixed:!1}},[a("van-tabbar-item",{attrs:{icon:"question-o"}},[t._v("帮助中心")]),a("van-tabbar-item",{attrs:{icon:"manager-o"}},[t._v("我的团购")]),a("van-tabbar-item",{attrs:{icon:"gold-coin-o"}},[t._v("账户余额")]),a("van-tabbar-item",{attrs:{icon:"service-o"}},[t._v("在线客服")])],1)],1)},Xt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"count-info"},[n("p",{staticClass:"count"},[n("span",[t._v("-")]),n("span",[t._v("卡包余额")])]),n("p",{staticClass:"money"},[n("span",[t._v("-")]),n("span",[t._v("悠币")])])])}],Vt={data:function(){return{isLogin:!1,user:""}},methods:{loginHandle:function(){this.$router.push({name:"login"})},regHandle:function(){this.$router.push({name:"reg"})},uscenterHandle:function(){sessionStorage.getItem("token")?this.$router.push({name:"usercenter"}):this.$router.push({name:"login"})}},mounted:function(){sessionStorage.getItem("token")?(this.isLogin=!0,this.user=sessionStorage.getItem("username")):this.isLogin=!1}},te=Vt,ee=(n("5ee0"),Object(u["a"])(te,Ut,Xt,!1,null,"52a0d214",null)),ne=ee.exports;a["a"].use(f["a"]);var ae=new f["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:y},{path:"/list",name:"list",component:G},{path:"/list/:id",name:"detail",component:Q},{path:"/login",name:"login",component:it},{path:"/reg",name:"reg",component:pt},{path:"/orders",name:"orders",component:Lt},{path:"/shopcart",name:"shopcart",component:_t},{path:"/sort",name:"sort",component:Ft},{path:"/goods",name:"goods",component:At},{path:"/usercenter",name:"usercenter",component:wt,meta:{needLogin:!0}},{path:"/about",name:"about",component:I},{path:"/findpsw",name:"findpsw",component:Jt},{path:"/myeg",name:"myeg",component:ne}]});ae.beforeEach(function(t,e,n){t.meta.needLogin?V("username")?n():n({name:"login"}):n()});var oe=ae;n("157a");a["a"].config.productionTip=!1,a["a"].use(b["t"]);var se=new a["a"];a["a"].prototype.$eventBus=se,new a["a"]({router:oe,render:function(t){return t(p)}}).$mount("#app")},"57b6":function(t,e,n){t.exports=n.p+"img/yiguo_logo.e220da6f.png"},"5ee0":function(t,e,n){"use strict";var a=n("9fb1"),o=n.n(a);o.a},6233:function(t,e,n){"use strict";var a=n("4bb5"),o=n.n(a);o.a},"64a9":function(t,e,n){},"6d72":function(t,e,n){},"76e8":function(t,e,n){"use strict";var a=n("e34b"),o=n.n(a);o.a},"81bb":function(t,e,n){},8260:function(t,e,n){"use strict";var a=n("81bb"),o=n.n(a);o.a},"9f5f":function(t,e,n){},"9fb1":function(t,e,n){},c228:function(t,e,n){"use strict";var a=n("efc0"),o=n.n(a);o.a},c308:function(t,e,n){t.exports=n.p+"img/no-pic.358fa5f6.jpg"},e34b:function(t,e,n){},e78d:function(t,e,n){},efc0:function(t,e,n){},f5d6:function(t,e,n){"use strict";var a=n("9f5f"),o=n.n(a);o.a}});
//# sourceMappingURL=app.e006979b.js.map